---
title: 'Shipment Tracking'
description: 'Track outbound shipments and delivery information for fulfilled orders'
---

# Shipment Tracking API

The Shipments API provides comprehensive access to outbound shipment information for orders that have been fulfilled and shipped from MasonHub distribution centers. Track packages, manage customer notifications, and analyze shipping performance.

<Note>
Shipment information is automatically created when orders are fulfilled. Use callbacks for real-time shipping notifications.
</Note>

## Core Operations

### Get Shipments

<api-endpoint method="GET" url="/shipments" />

Retrieve detailed shipment information for fulfilled orders.

<ParamField query="id" type="array">
  MasonHub shipment UUIDs (1-30 items)
</ParamField>

<ParamField query="coid" type="array">
  Customer order IDs (1-30 items)
</ParamField>

<ParamField query="sdt" type="string">
  Start date/time (RFC3339 format)
</ParamField>

<ParamField query="edt" type="string">
  End date/time (RFC3339 format)
</ParamField>

<ParamField query="offset" type="integer" default="0">
  Pagination offset
</ParamField>

<ParamField query="limit" type="integer" default="30">
  Number of results (1-100)
</ParamField>

<ParamField query="list_type" type="string" default="detail">
  Response format: "detail" or "summary"
</ParamField>

<RequestExample>
```bash cURL
curl -X GET "https://app.masonhub.co/{account}/api/v1/shipments?coid=12345,67890&sdt=2018-08-01T00:00:00Z&limit=50" \
  -H "Authorization: Bearer your_jwt_token"
```

```python Python
import requests

url = "https://app.masonhub.co/{account}/api/v1/shipments"
headers = {
    "Authorization": "Bearer your_jwt_token"
}
params = {
    "coid": "12345,67890",
    "sdt": "2018-08-01T00:00:00Z",
    "limit": 50
}

response = requests.get(url, headers=headers, params=params)
data = response.json()
```

```javascript JavaScript
const params = new URLSearchParams({
  coid: '12345,67890',
  sdt: '2018-08-01T00:00:00Z',
  limit: '50'
});

const response = await fetch(`https://app.masonhub.co/{account}/api/v1/shipments?${params}`, {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer your_jwt_token'
  }
});

const data = await response.json();
```
</RequestExample>

<ResponseExample>
```json 200 Success
{
  "search_criteria": {
    "sdt": "2018-08-01T00:00:00Z",
    "edt": null
  },
  "limit": 30,
  "offset": 0,
  "list_type": "detail",
  "data": [
    {
      "id": "db79huy5-ec61-7892-ae7b-57a563b68133",
      "shipment_id": "f0h7uuk",
      "customer_order_id": "12345",
      "shipping_provider": "UPS",
      "shipper_service_level": "ground",
      "tracking_number": "1z324897234nferg45",
      "tracking_url": "http://ups.com/tracking/1z324897234nferg45",
      "shipment_date_time": "2018-08-06T15:11:19Z",
      "estimated_delivery": "2018-08-09T17:00:00Z",
      "shipment_line_items": [
        {
          "sku_customer_id": "shirts872340",
          "quantity": 2,
          "serial_numbers": ["SN001", "SN002"]
        },
        {
          "sku_customer_id": "pants3422",
          "quantity": 1
        }
      ],
      "package_details": {
        "weight": 2.5,
        "dimensions": {
          "length": 12,
          "width": 10,
          "height": 4
        },
        "package_type": "box"
      }
    }
  ]
}
```

```json 400 Bad Request
{
  "error": {
    "code": "INVALID_DATE_RANGE",
    "message": "End date must be after start date"
  }
}
```
</ResponseExample>

#### Query Parameters

| Parameter | Type | Description | Default |
|-----------|------|-------------|---------|
| `id` | array of UUIDs | MasonHub shipment UUIDs [1..30] | - |
| `coid` | array of strings | Customer order IDs [1..30] | - |
| `sdt` | string | Start date/time (RFC3339) | - |
| `edt` | string | End date/time (RFC3339) | - |
| `offset` | integer | Pagination offset | 0 |
| `limit` | integer | Number of results [1..100] | 30 |

## Shipment Data Structure

### Core Fields

<CardGroup cols={2}>
  <Card
    title="Identification"
    icon="id-card"
  >
    **id**: MasonHub internal UUID
    
    **shipment_id**: Human-readable identifier
    
    **customer_order_id**: Your order reference
  </Card>
  <Card
    title="Carrier Information"
    icon="truck"
  >
    **shipping_provider**: UPS, USPS, FedEx, etc.
    
    **shipper_service_level**: ground, priority, express
    
    **tracking_number**: Carrier tracking number
  </Card>
  <Card
    title="Timing"
    icon="clock"
  >
    **shipment_date_time**: Actual ship time
    
    **estimated_delivery**: Carrier estimate
    
    **actual_delivery**: Confirmed delivery
  </Card>
  <Card
    title="Contents"
    icon="box"
  >
    **shipment_line_items**: Items in package
    
    **package_details**: Weight & dimensions
    
    **special_handling**: Handling requirements
  </Card>
</CardGroup>

### Line Item Details

Each shipment contains detailed line item information:

<Tabs>
  <Tab title="Basic Line Items">
    ```json
    {
      "shipment_line_items": [
        {
          "sku_customer_id": "shirts872340",
          "quantity": 2
        },
        {
          "sku_customer_id": "pants3422",
          "quantity": 1
        }
      ]
    }
    ```
  </Tab>
  <Tab title="Enhanced Line Items">
    ```json
    {
      "shipment_line_items": [
        {
          "sku_customer_id": "shirts872340",
          "quantity": 2,
          "serial_numbers": ["SN001", "SN002"],
          "lot_numbers": ["LOT001"],
          "expiration_dates": ["2025-12-31"],
          "pick_location": "A-15-C"
        }
      ]
    }
    ```
  </Tab>
</Tabs>

## Multi-Shipment Orders

Orders frequently ship in multiple packages due to:

<Steps>
  <Step title="Size Constraints">
    Items too large for single package
  </Step>
  <Step title="Geographic Distribution">
    Items shipping from different distribution centers
  </Step>
  <Step title="Inventory Availability">
    Partial availability requiring sequential shipments
  </Step>
  <Step title="Business Rules">
    Customer preferences or shipping policies
  </Step>
</Steps>

### Multi-Shipment Example

<CodeGroup>
```json Shipment 1
{
  "shipment_id": "f0h7uuk",
  "customer_order_id": "12345",
  "shipping_provider": "UPS",
  "tracking_number": "1z324897234nferg45",
  "shipment_date_time": "2018-08-06T15:11:19Z",
  "shipment_line_items": [
    {
      "sku_customer_id": "shirts872340",
      "quantity": 2
    }
  ],
  "shipment_sequence": {
    "number": 1,
    "total": 2
  }
}
```

```json Shipment 2
{
  "shipment_id": "u3d88z4",
  "customer_order_id": "12345",
  "shipping_provider": "UPS",
  "tracking_number": "1z987654321abcdef",
  "shipment_date_time": "2018-08-07T10:30:15Z",
  "shipment_line_items": [
    {
      "sku_customer_id": "pants3422",
      "quantity": 1
    }
  ],
  "shipment_sequence": {
    "number": 2,
    "total": 2
  }
}
```
</CodeGroup>

## Carrier Integration

### Supported Carriers

<CardGroup cols={3}>
  <Card
    title="UPS"
    icon="truck"
  >
    **Services**: Ground, Air, International
    
    **Tracking**: Real-time updates
    
    **URL Pattern**: `ups.com/tracking/{number}`
  </Card>
  <Card
    title="USPS"
    icon="mail-bulk"
  >
    **Services**: Priority, Express, Ground
    
    **Tracking**: Standard updates
    
    **URL Pattern**: `usps.gov/tracking/{number}`
  </Card>
  <Card
    title="FedEx"
    icon="plane"
  >
    **Services**: Express, Ground, International
    
    **Tracking**: Real-time updates
    
    **URL Pattern**: `fedex.com/track/{number}`
  </Card>
</CardGroup>

### Tracking URLs

MasonHub provides direct tracking URLs for immediate customer access:

```json
{
  "tracking_number": "1z324897234nferg45",
  "tracking_url": "http://ups.com/tracking/1z324897234nferg45",
  "mobile_tracking_url": "http://m.ups.com/tracking/1z324897234nferg45",
  "carrier_app_link": "ups://track/1z324897234nferg45"
}
```

## Event Integration

### Order Fulfillment Callbacks

Receive **orderEvent** callbacks when orders ship:

<CodeGroup>
```json Single Shipment
{
  "callback_url": "https://client.com/api/orderEvent",
  "message_type": "orderEvent",
  "message_id": "0896116f-e54b-4756-9d3e-1b0c4a25d821",
  "data": [
    {
      "order_id": "8f1316d5-859f-4802-98b0-63d03a9517ac",
      "customer_identifier": "12345",
      "status": "fulfilled",
      "fulfillment_type": "complete",
      "shipments": [
        {
          "shipment_id": "88888",
          "shipping_provider": "UPS",
          "shipper_service_level": "ground",
          "tracking_number": "1z324897234nferg45",
          "tracking_url": "http://ups.com/tracking/1z324897234nferg45",
          "shipment_date_time": "2018-08-06T15:11:19Z",
          "estimated_delivery": "2018-08-09T17:00:00Z",
          "shipment_line_items": [
            {
              "sku_customer_id": "shirts872340",
              "quantity": 2
            }
          ]
        }
      ]
    }
  ]
}
```

```json Partial Shipment
{
  "callback_url": "https://client.com/api/orderEvent",
  "message_type": "orderEvent",
  "message_id": "0896116f-e54b-4756-9d3e-1b0c4a25d821",
  "data": [
    {
      "order_id": "8f1316d5-859f-4802-98b0-63d03a9517ac",
      "customer_identifier": "12345",
      "status": "partiallyFulfilled",
      "fulfillment_type": "partial",
      "shipments": [
        {
          "shipment_id": "88888",
          "shipping_provider": "UPS",
          "tracking_number": "1z324897234nferg45",
          "shipment_line_items": [
            {
              "sku_customer_id": "shirts872340",
              "quantity": 2
            }
          ]
        }
      ],
      "backorders": [
        {
          "sku_customer_id": "pants3422",
          "quantity": 1,
          "expected_ship_date": "2018-08-10T00:00:00Z"
        }
      ]
    }
  ]
}
```
</CodeGroup>

### Delivery Confirmation

Some carriers provide delivery confirmation callbacks:

```json
{
  "callback_url": "https://client.com/api/delivery_event",
  "message_type": "deliveryEvent",
  "message_id": "f79881fe-e65c-48g1-d82c-590c1d97cgcg",
  "data": {
    "shipment_id": "88888",
    "tracking_number": "1z324897234nferg45",
    "delivery_status": "delivered",
    "delivery_date_time": "2018-08-09T14:32:00Z",
    "delivery_location": "Front Door",
    "signature_required": false,
    "signed_by": null
  }
}
```

## Customer Notifications

### Shipping Confirmation

Use shipment data to create comprehensive shipping notifications:

<Tabs>
  <Tab title="Email Template">
    ```html
    <h2>Your Order Has Shipped!</h2>
    <p>Order #{{customer_order_id}} has been shipped via {{shipping_provider}}.</p>
    
    <h3>Tracking Information</h3>
    <p>Tracking Number: <strong>{{tracking_number}}</strong></p>
    <p><a href="{{tracking_url}}">Track Your Package</a></p>
    
    <h3>Shipped Items</h3>
    {{#each shipment_line_items}}
    <p>{{sku_customer_id}} - Quantity: {{quantity}}</p>
    {{/each}}
    
    <p>Estimated Delivery: {{estimated_delivery}}</p>
    ```
  </Tab>
  <Tab title="SMS Template">
    ```
    Order #{{customer_order_id}} shipped via {{shipping_provider}}. 
    Track: {{tracking_url}} 
    Est. delivery: {{estimated_delivery}}
    ```
  </Tab>
  <Tab title="App Notification">
    ```json
    {
      "title": "Order Shipped",
      "body": "Order #{{customer_order_id}} is on its way!",
      "data": {
        "order_id": "{{customer_order_id}}",
        "tracking_number": "{{tracking_number}}",
        "tracking_url": "{{tracking_url}}"
      }
    }
    ```
  </Tab>
</Tabs>

## Analytics & Reporting

### Shipping Metrics

Track key performance indicators:

<Accordion title="Volume Metrics">
  - **Daily shipment counts**
  - **Carrier distribution**
  - **Service level usage**
  - **Package size analysis**
</Accordion>

<Accordion title="Performance Metrics">
  - **Ship time from order**
  - **Delivery performance**
  - **Multi-shipment rates**
  - **Carrier cost analysis**
</Accordion>

<Accordion title="Customer Experience">
  - **Delivery accuracy**
  - **Damage rates**
  - **Customer satisfaction scores**
  - **Return rates by carrier**
</Accordion>

### Sample Analytics Query

```javascript
// Analyze shipping performance by carrier
function analyzeCarrierPerformance(shipments) {
  const carrierStats = {};
  
  shipments.forEach(shipment => {
    const carrier = shipment.shipping_provider;
    
    if (!carrierStats[carrier]) {
      carrierStats[carrier] = {
        totalShipments: 0,
        onTimeDeliveries: 0,
        averageTransitTime: 0
      };
    }
    
    carrierStats[carrier].totalShipments++;
    
    // Calculate on-time delivery
    if (shipment.actual_delivery <= shipment.estimated_delivery) {
      carrierStats[carrier].onTimeDeliveries++;
    }
  });
  
  return carrierStats;
}
```

## Advanced Features

### Package Optimization

<CardGroup cols={2}>
  <Card
    title="Smart Packaging"
    icon="cube"
  >
    Automatic package size selection based on item dimensions and shipping rules
  </Card>
  <Card
    title="Consolidation"
    icon="compress-arrows-alt"
  >
    Intelligent order consolidation to minimize shipment count
  </Card>
  <Card
    title="Split Optimization"
    icon="cut"
  >
    Optimal splitting when consolidation isn't possible
  </Card>
  <Card
    title="Cost Optimization"
    icon="dollar-sign"
  >
    Automatic carrier and service level selection for cost efficiency
  </Card>
</CardGroup>

### Special Handling

Track special handling requirements:

```json
{
  "special_handling": {
    "fragile": true,
    "signature_required": true,
    "adult_signature": false,
    "delivery_confirmation": true,
    "insurance_value": 500.00,
    "temperature_controlled": false
  }
}
```

## Best Practices

<CardGroup cols={2}>
  <Card
    title="Real-time Updates"
    icon="bolt"
  >
    Use orderEvent callbacks for immediate shipment notifications rather than polling
  </Card>
  <Card
    title="Multi-shipment Handling"
    icon="layer-group"
  >
    Always design systems to handle multiple shipments per order
  </Card>
  <Card
    title="Customer Communication"
    icon="comments"
  >
    Provide proactive shipping updates and tracking information
  </Card>
  <Card
    title="Error Handling"
    icon="exclamation-triangle"
  >
    Handle cases where tracking information may not be immediately available
  </Card>
</CardGroup>

### Integration Tips

1. **Callback Processing**: Design fast callback handlers for shipment events
2. **Data Storage**: Store shipment data for customer service and analytics
3. **Tracking Integration**: Provide direct tracking links in customer communications
4. **Mobile Optimization**: Ensure tracking links work well on mobile devices

## Error Handling

Common scenarios and solutions:

<Accordion title="Tracking Not Available">
  **Scenario**: Tracking number exists but carrier hasn't scanned package
  
  **Solution**: Display "Shipping label created" status until first carrier scan
</Accordion>

<Accordion title="Multiple Tracking Numbers">
  **Scenario**: Order shipped in multiple packages with different tracking numbers
  
  **Solution**: Display all tracking numbers with clear package identification
</Accordion>

<Accordion title="Carrier API Downtime">
  **Scenario**: Carrier tracking systems temporarily unavailable
  
  **Solution**: Gracefully degrade to basic tracking number display
</Accordion>

## Next Steps

After implementing shipment tracking, explore:

- [Order Management](/api/orders) for order lifecycle management
- [Inventory Management](/api/inventory) for stock tracking
- [Callback Configuration](/api/callbacks) for event handling setup
